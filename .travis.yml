# sudo: required
# services:
#   - docker

# before_install:
#   - docker build -t egbodofo/react-ecommerce -f ./client/Dockerfile.dev ./client

# script:
#   - docker run -e CI=true egbodofo/react-ecommerce npm test -- --coverage

# after_success:
#   # build docker images
#   - docker build -t egbodofo/ecommerce-client ./client
#   - docker build -t egbodofo/ecommerce-nginx ./nginx
#   - docker build -t egbodofo/ecommerce-server ./server
#   # Log in to the docker CLI
#   - echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_ID" --password-stdin
#   # Take these build images and push to docker hub
#   - docker push egbodofo/ecommerce-client
#   - docker push egbodofo/ecommerce-nginx
# #   - docker push egbodofo/ecommerce-server
# # deploy:
# #   provider: elasticbeanstalk
# #   region: eu-west-2
# #   app: multi-store
# #   env: MultiStore-env
# #   bucket_name: elasticbeanstalk-eu-west-2-292676312213
# #   bucket_path: multi-store
# #   on:
# #     branch: master
# #   access_key_id: $AWS_ACCESS_KEY
# #   secret_access_key:
# #     secure: $AWS_SECRET_KEY
